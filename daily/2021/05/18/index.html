<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>2021年05月18日 | realwds&#39;s docs</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/realwds-docs/logo.png">
    <link rel="manifest" href="/realwds-docs/manifest.json">
    <link rel="apple-touch-icon" href="/realwds-docs/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/realwds-docs/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <link rel="stylesheet" type="text/css" href="/realwds-docs/css/jquery.fancybox.min.css">
    <script src="/realwds-docs/js/jquery.slim.min.js"></script>
    <script src="/realwds-docs/js/jquery.fancybox.min.js"></script>
    <meta name="description" content="精致的五官是心动的开始，迷人的气质是动情的深渊。">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/realwds-docs/assets/css/0.styles.f825d6ec.css" as="style"><link rel="preload" href="/realwds-docs/assets/js/app.d46cebf3.js" as="script"><link rel="preload" href="/realwds-docs/assets/js/3.62acc876.js" as="script"><link rel="preload" href="/realwds-docs/assets/js/79.5e2533e6.js" as="script"><link rel="preload" href="/realwds-docs/assets/js/7.67d73f15.js" as="script"><link rel="prefetch" href="/realwds-docs/assets/js/1.9f6c7dec.js"><link rel="prefetch" href="/realwds-docs/assets/js/10.c3e6c17b.js"><link rel="prefetch" href="/realwds-docs/assets/js/100.c2296da0.js"><link rel="prefetch" href="/realwds-docs/assets/js/101.c11b33a1.js"><link rel="prefetch" href="/realwds-docs/assets/js/102.5b2eb3ab.js"><link rel="prefetch" href="/realwds-docs/assets/js/103.6174609d.js"><link rel="prefetch" href="/realwds-docs/assets/js/104.c37a9b6f.js"><link rel="prefetch" href="/realwds-docs/assets/js/105.fa9279de.js"><link rel="prefetch" href="/realwds-docs/assets/js/106.b36534ef.js"><link rel="prefetch" href="/realwds-docs/assets/js/107.a1c76087.js"><link rel="prefetch" href="/realwds-docs/assets/js/108.c0e62049.js"><link rel="prefetch" href="/realwds-docs/assets/js/11.f3979e84.js"><link rel="prefetch" href="/realwds-docs/assets/js/12.ddfd511a.js"><link rel="prefetch" href="/realwds-docs/assets/js/13.d06690cb.js"><link rel="prefetch" href="/realwds-docs/assets/js/14.52855148.js"><link rel="prefetch" href="/realwds-docs/assets/js/15.61797eb2.js"><link rel="prefetch" href="/realwds-docs/assets/js/16.e649e6ee.js"><link rel="prefetch" href="/realwds-docs/assets/js/17.550bf817.js"><link rel="prefetch" href="/realwds-docs/assets/js/18.fbc871e0.js"><link rel="prefetch" href="/realwds-docs/assets/js/19.19e3c96d.js"><link rel="prefetch" href="/realwds-docs/assets/js/20.86c599a6.js"><link rel="prefetch" href="/realwds-docs/assets/js/21.9bb345ee.js"><link rel="prefetch" href="/realwds-docs/assets/js/22.16dcab21.js"><link rel="prefetch" href="/realwds-docs/assets/js/23.6698433f.js"><link rel="prefetch" href="/realwds-docs/assets/js/24.109466ca.js"><link rel="prefetch" href="/realwds-docs/assets/js/25.b3a460d1.js"><link rel="prefetch" href="/realwds-docs/assets/js/26.84aee85c.js"><link rel="prefetch" href="/realwds-docs/assets/js/27.f667a6fe.js"><link rel="prefetch" href="/realwds-docs/assets/js/28.8dd5d00f.js"><link rel="prefetch" href="/realwds-docs/assets/js/29.f10847b5.js"><link rel="prefetch" href="/realwds-docs/assets/js/30.ad9ff195.js"><link rel="prefetch" href="/realwds-docs/assets/js/31.62467c22.js"><link rel="prefetch" href="/realwds-docs/assets/js/32.142b740b.js"><link rel="prefetch" href="/realwds-docs/assets/js/33.2d4ce92d.js"><link rel="prefetch" href="/realwds-docs/assets/js/34.a019abb8.js"><link rel="prefetch" href="/realwds-docs/assets/js/35.f11cb958.js"><link rel="prefetch" href="/realwds-docs/assets/js/36.dab52ac6.js"><link rel="prefetch" href="/realwds-docs/assets/js/37.81522425.js"><link rel="prefetch" href="/realwds-docs/assets/js/38.4fbb7921.js"><link rel="prefetch" href="/realwds-docs/assets/js/39.752cb569.js"><link rel="prefetch" href="/realwds-docs/assets/js/4.f62c7105.js"><link rel="prefetch" href="/realwds-docs/assets/js/40.4db316fb.js"><link rel="prefetch" href="/realwds-docs/assets/js/41.c51ea2e4.js"><link rel="prefetch" href="/realwds-docs/assets/js/42.94556b7f.js"><link rel="prefetch" href="/realwds-docs/assets/js/43.0c64cb6c.js"><link rel="prefetch" href="/realwds-docs/assets/js/44.ce2c4453.js"><link rel="prefetch" href="/realwds-docs/assets/js/45.40e2a2b4.js"><link rel="prefetch" href="/realwds-docs/assets/js/46.bde499d0.js"><link rel="prefetch" href="/realwds-docs/assets/js/47.fee3d25a.js"><link rel="prefetch" href="/realwds-docs/assets/js/48.7d8d4f77.js"><link rel="prefetch" href="/realwds-docs/assets/js/49.95ecb20f.js"><link rel="prefetch" href="/realwds-docs/assets/js/5.3f5411fd.js"><link rel="prefetch" href="/realwds-docs/assets/js/50.a52baec5.js"><link rel="prefetch" href="/realwds-docs/assets/js/51.bff9519f.js"><link rel="prefetch" href="/realwds-docs/assets/js/52.1ed29b99.js"><link rel="prefetch" href="/realwds-docs/assets/js/53.5ab8f6d4.js"><link rel="prefetch" href="/realwds-docs/assets/js/54.684a3933.js"><link rel="prefetch" href="/realwds-docs/assets/js/55.4dbf4867.js"><link rel="prefetch" href="/realwds-docs/assets/js/56.cb7cee52.js"><link rel="prefetch" href="/realwds-docs/assets/js/57.bdbe1198.js"><link rel="prefetch" href="/realwds-docs/assets/js/58.e815c638.js"><link rel="prefetch" href="/realwds-docs/assets/js/59.c650a2dc.js"><link rel="prefetch" href="/realwds-docs/assets/js/6.ed981879.js"><link rel="prefetch" href="/realwds-docs/assets/js/60.cd72df15.js"><link rel="prefetch" href="/realwds-docs/assets/js/61.2b5021cf.js"><link rel="prefetch" href="/realwds-docs/assets/js/62.7b109073.js"><link rel="prefetch" href="/realwds-docs/assets/js/63.5e6ca8a0.js"><link rel="prefetch" href="/realwds-docs/assets/js/64.5b18c0fb.js"><link rel="prefetch" href="/realwds-docs/assets/js/65.cd9444ce.js"><link rel="prefetch" href="/realwds-docs/assets/js/66.631aacdf.js"><link rel="prefetch" href="/realwds-docs/assets/js/67.7d3765f4.js"><link rel="prefetch" href="/realwds-docs/assets/js/68.aaef2aa8.js"><link rel="prefetch" href="/realwds-docs/assets/js/69.74b846da.js"><link rel="prefetch" href="/realwds-docs/assets/js/70.2b4bc103.js"><link rel="prefetch" href="/realwds-docs/assets/js/71.b90e708d.js"><link rel="prefetch" href="/realwds-docs/assets/js/72.bee358a2.js"><link rel="prefetch" href="/realwds-docs/assets/js/73.d7e11cd8.js"><link rel="prefetch" href="/realwds-docs/assets/js/74.ca202695.js"><link rel="prefetch" href="/realwds-docs/assets/js/75.ef86979d.js"><link rel="prefetch" href="/realwds-docs/assets/js/76.c32c3467.js"><link rel="prefetch" href="/realwds-docs/assets/js/77.1bff23d1.js"><link rel="prefetch" href="/realwds-docs/assets/js/78.2ca1ec3e.js"><link rel="prefetch" href="/realwds-docs/assets/js/8.74135bcc.js"><link rel="prefetch" href="/realwds-docs/assets/js/80.64a66022.js"><link rel="prefetch" href="/realwds-docs/assets/js/81.89222204.js"><link rel="prefetch" href="/realwds-docs/assets/js/82.457a1565.js"><link rel="prefetch" href="/realwds-docs/assets/js/83.9a3ed986.js"><link rel="prefetch" href="/realwds-docs/assets/js/84.468ab8a6.js"><link rel="prefetch" href="/realwds-docs/assets/js/85.76b53214.js"><link rel="prefetch" href="/realwds-docs/assets/js/86.0a82a606.js"><link rel="prefetch" href="/realwds-docs/assets/js/87.27420a3d.js"><link rel="prefetch" href="/realwds-docs/assets/js/88.7d04ab55.js"><link rel="prefetch" href="/realwds-docs/assets/js/89.f7da13d9.js"><link rel="prefetch" href="/realwds-docs/assets/js/9.422b8645.js"><link rel="prefetch" href="/realwds-docs/assets/js/90.3f6d82c3.js"><link rel="prefetch" href="/realwds-docs/assets/js/91.55678e1b.js"><link rel="prefetch" href="/realwds-docs/assets/js/92.a89e3969.js"><link rel="prefetch" href="/realwds-docs/assets/js/93.774cfefb.js"><link rel="prefetch" href="/realwds-docs/assets/js/94.80eaee43.js"><link rel="prefetch" href="/realwds-docs/assets/js/95.dbf5aa64.js"><link rel="prefetch" href="/realwds-docs/assets/js/96.64151c8e.js"><link rel="prefetch" href="/realwds-docs/assets/js/97.fa994626.js"><link rel="prefetch" href="/realwds-docs/assets/js/98.78c310c5.js"><link rel="prefetch" href="/realwds-docs/assets/js/99.54e6f5a7.js">
    <link rel="stylesheet" href="/realwds-docs/assets/css/0.styles.f825d6ec.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/realwds-docs/" class="home-link router-link-active"><img src="/realwds-docs/img/home.png" alt="realwds's docs" class="logo"> <span class="site-name can-hide">realwds's docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/realwds-docs/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/realwds-docs/daily/" class="nav-link router-link-active">
  日剂
</a></div><div class="nav-item"><a href="/realwds-docs/post/" class="nav-link">
  随笔
</a></div><div class="nav-item"><a href="/realwds-docs/about/" class="nav-link">
  关于
</a></div><div class="nav-item"><a href="/realwds-docs/more/links/" class="nav-link">
  更多
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">多语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">多语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/realwds-docs/daily/2021/05/18/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/realwds-docs/en/" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/realwds-docs/jp/" class="nav-link">
  日本語
</a></li><li class="dropdown-item"><!----> <a href="/realwds-docs/kr/" class="nav-link">
  한국어
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/realwds-docs/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/realwds-docs/daily/" class="nav-link router-link-active">
  日剂
</a></div><div class="nav-item"><a href="/realwds-docs/post/" class="nav-link">
  随笔
</a></div><div class="nav-item"><a href="/realwds-docs/about/" class="nav-link">
  关于
</a></div><div class="nav-item"><a href="/realwds-docs/more/links/" class="nav-link">
  更多
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">多语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">多语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/realwds-docs/daily/2021/05/18/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/realwds-docs/en/" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/realwds-docs/jp/" class="nav-link">
  日本語
</a></li><li class="dropdown-item"><!----> <a href="/realwds-docs/kr/" class="nav-link">
  한국어
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/realwds-docs/daily/" aria-current="page" class="sidebar-link">《 每日一剂 》</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>2021年05月</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/realwds-docs/daily/2021/05/29/" class="sidebar-link">2021年05月29日</a></li><li><a href="/realwds-docs/daily/2021/05/28/" class="sidebar-link">2021年05月28日</a></li><li><a href="/realwds-docs/daily/2021/05/27/" class="sidebar-link">2021年05月27日</a></li><li><a href="/realwds-docs/daily/2021/05/26/" class="sidebar-link">2021年05月26日</a></li><li><a href="/realwds-docs/daily/2021/05/25/" class="sidebar-link">2021年05月25日</a></li><li><a href="/realwds-docs/daily/2021/05/24/" class="sidebar-link">2021年05月24日</a></li><li><a href="/realwds-docs/daily/2021/05/23/" class="sidebar-link">2021年05月23日</a></li><li><a href="/realwds-docs/daily/2021/05/22/" class="sidebar-link">2021年05月22日</a></li><li><a href="/realwds-docs/daily/2021/05/21/" class="sidebar-link">2021年05月21日</a></li><li><a href="/realwds-docs/daily/2021/05/20/" class="sidebar-link">2021年05月20日</a></li><li><a href="/realwds-docs/daily/2021/05/19/" class="sidebar-link">2021年05月19日</a></li><li><a href="/realwds-docs/daily/2021/05/18/" aria-current="page" class="active sidebar-link">2021年05月18日</a></li><li><a href="/realwds-docs/daily/2021/05/17/" class="sidebar-link">2021年05月17日</a></li><li><a href="/realwds-docs/daily/2021/05/16/" class="sidebar-link">2021年05月16日</a></li><li><a href="/realwds-docs/daily/2021/05/15/" class="sidebar-link">2021年05月15日</a></li><li><a href="/realwds-docs/daily/2021/05/14/" class="sidebar-link">2021年05月14日</a></li><li><a href="/realwds-docs/daily/2021/05/13/" class="sidebar-link">2021年05月13日</a></li><li><a href="/realwds-docs/daily/2021/05/12/" class="sidebar-link">2021年05月12日</a></li><li><a href="/realwds-docs/daily/2021/05/11/" class="sidebar-link">2021年05月11日</a></li><li><a href="/realwds-docs/daily/2021/05/10/" class="sidebar-link">2021年05月10日</a></li><li><a href="/realwds-docs/daily/2021/05/09/" class="sidebar-link">2021年05月09日</a></li><li><a href="/realwds-docs/daily/2021/05/08/" class="sidebar-link">2021年05月08日</a></li><li><a href="/realwds-docs/daily/2021/05/07/" class="sidebar-link">2021年05月07日</a></li><li><a href="/realwds-docs/daily/2021/05/06/" class="sidebar-link">2021年05月06日</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>2021年04月</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>2021年03月</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>2021年02月</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-realwds-content content__default"><h1 id="_2021年05月18日"><a href="#_2021年05月18日" class="header-anchor">#</a> 2021年05月18日</h1> <div class="custom-block tip"><p class="custom-block-title">天气</p> <p>今日杭州晴，天气微凉。</p></div> <h2 id="javascript-常用知识点回顾"><a href="#javascript-常用知识点回顾" class="header-anchor">#</a> JavaScript 常用知识点回顾</h2> <p></p><div class="table-of-contents"><ul><li><a href="#javascript-常用知识点回顾">JavaScript 常用知识点回顾</a><ul><li><a href="#_1-内置类型">1 内置类型</a></li><li><a href="#_2-null-和-undefined-的区别">2 null 和 undefined 的区别</a></li><li><a href="#_3-new-操作符具体干了什么">3 new 操作符具体干了什么</a></li><li><a href="#_4-call、apply、bind-三者的异同点">4 call、apply、bind 三者的异同点</a></li><li><a href="#_5-跨域问题解决方式">5 跨域问题解决方式</a></li><li><a href="#_6-script-标签中-defer-和-async-的区别">6 script 标签中 defer 和 async 的区别</a></li><li><a href="#_7-数据类型转换">7 数据类型转换</a></li></ul></li></ul></div><p></p> <h3 id="_1-内置类型"><a href="#_1-内置类型" class="header-anchor">#</a> 1 内置类型</h3> <ul><li><code>JS</code> 中分为七种内置类型，七种内置类型又分为两大类型：基本类型和对象（Object）。</li> <li>基本类型有六种：<code>null</code>，<code>undefined</code>，<code>boolean</code>，<code>number</code>，<code>string</code>，<code>symbol</code>。</li> <li>其中 JS 的数字类型是浮点类型的，没有整型。并且浮点类型基于 IEEE 754 标准实现，在使用中会遇到某些 Bug。<code>NaN</code> 也属于 <code>number</code> 类型，并且 <code>NaN</code> 不等于自身。</li> <li>对于基本类型来说，如果使用字面量的方式，那么这个变量只是个字面量，只有在必要的时候才会转换为对应的类型。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">111</span> <span class="token comment">// 这只是字面量，不是 number 类型</span>
a<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 使用时候才会转换为对象类型</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>对象（Object）是引用类型，在使用过程中会遇到浅拷贝和深拷贝的问题。</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'FE'</span> <span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> a
b<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'EF'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// EF</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_2-null-和-undefined-的区别"><a href="#_2-null-和-undefined-的区别" class="header-anchor">#</a> 2 null 和 undefined 的区别</h3> <p><code>null</code> 是一个表示&quot;无&quot;的对象，转为数值时为0；<code>undefined</code> 是一个表示&quot;无&quot;的原始值，转为数值时为 NaN。</p> <p>当声明的变量还未被初始化时，变量的默认值为 <code>undefined</code>。 <code>null</code> 用来表示尚未存在的对象，常用来表示函数企图返回一个不存在的对象。</p> <p><code>undefined</code> 表示“缺少值”，就是此处应该有一个值，但是还没有定义。典型用法是：</p> <ul><li>变量被声明了，但没有赋值时，就等于 undefined。</li> <li>调用函数时，应该提供的参数没有提供，该参数等于 undefined。</li> <li>对象没有赋值的属性，该属性的值为 undefined。</li> <li>函数没有返回值时，默认返回 undefined。</li></ul> <p><code>null</code> 表示“没有对象”，即该处不应该有值。典型用法是：</p> <ul><li>作为函数的参数，表示该函数的参数不是对象。</li> <li>作为对象原型链的终点。</li></ul> <h3 id="_3-new-操作符具体干了什么"><a href="#_3-new-操作符具体干了什么" class="header-anchor">#</a> 3 new 操作符具体干了什么</h3> <ul><li>创建一个空对象，并且 <code>this</code> 变量引用该对象，同时还继承了该函数的原型。</li> <li>属性和方法被加入到 <code>this</code> 引用的对象中。</li> <li>新创建的对象由 <code>this</code> 所引用，并且最后隐式的返回 <code>this</code>。</li></ul> <h3 id="_4-call、apply、bind-三者的异同点"><a href="#_4-call、apply、bind-三者的异同点" class="header-anchor">#</a> 4 call、apply、bind 三者的异同点</h3> <p><code>bind</code>、<code>apply</code>、<code>call</code> 三者都可以用来改变 <code>this</code> 的指向, 下面分别对他们进行比较分析：</p> <p><code>apply</code> 和 <code>call</code> 二者都是 <code>Function</code> 对象的方法，每个函数都能调用 二者的第一个参数都是你要指定的执行上下文。</p> <p><code>apply</code> 和 <code>call</code> 的区别是： <code>call</code> 方法接受的是若干个参数列表，而 <code>apply</code> 接收的是一个包含多个参数的数组。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Cherry'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> a<span class="token punctuation">.</span>fn
<span class="token function">b</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 3</span>
<span class="token function">b</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token comment">// 15</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>我们常常使用的验证是否是数组（前提是 <code>toString()</code> 方法没有被重写过）：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">isArray</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'[object Array]'</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>我们发现 <code>bind()</code> 方法还需要调用一次；是由于 <code>bind()</code> 方法创建一个新的函数,我们必须手动去调用。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Cherry'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> a<span class="token punctuation">.</span>fn
<span class="token function">b</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 3 </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><code>bind</code>、<code>apply</code>、<code>call</code> 的共同和不同点：</p> <ul><li>三者都可以用来改变 <code>this</code> 的指向</li> <li>三者第一个参数都是 <code>this</code> 要指向的对象，也就是想指定的上下文，上下文就是指调用函数的那个对象。（点前的那个对象，没有就是全局 window）</li> <li>三者都可以传参，但是 <code>apply</code> 是数组，而 <code>call</code> 是有顺序的传入</li> <li><code>bind</code> 是返回对应函数，便于稍后调用；<code>apply</code>、<code>call</code> 则是立即执行</li></ul> <h3 id="_5-跨域问题解决方式"><a href="#_5-跨域问题解决方式" class="header-anchor">#</a> 5 跨域问题解决方式</h3> <ul><li>通过 <code>jsonp</code> 跨域</li> <li>跨域资源共享（<code>CORS</code>）</li> <li><code>nodejs</code> 中间件代理跨域</li> <li><code>nginx</code> 反向代理中设置 <code>proxy_cookie_domain</code></li></ul> <h4 id="_1-通过-jsonp-跨域"><a href="#_1-通过-jsonp-跨域" class="header-anchor">#</a> 1. 通过 jsonp 跨域</h4> <p>通常为了减轻 web 服务器的负载，我们把 js、css、img 等静态资源分离到另一台独立域名的服务器上，在 html 页面中再通过相应的标签从不同域名下加载静态资源，而被浏览器允许，基于此原理，我们可以通过动态创建 script，再请求一个带参网址实现跨域通信。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
script<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'text/javascript'</span><span class="token punctuation">;</span>

<span class="token comment">// 传参一个回调函数名给后端，方便后端返回时执行这个在前端定义的回调函数</span>
script<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'http://www.xxx.com:8080/login?user=admin&amp;callback=jsonCallback'</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 回调执行函数</span>
<span class="token keyword">function</span> <span class="token function">jsonCallback</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="_2-跨域资源共享-cors"><a href="#_2-跨域资源共享-cors" class="header-anchor">#</a> 2. 跨域资源共享（CORS）</h4> <p><code>CORS</code> 是一个 W3C 标准，全称是“跨域资源共享”（<code>Cross-origin resource sharing</code>）跨域资源共享 <code>CORS</code> 详解。看名字就知道这是处理跨域问题的标准做法。<code>CORS</code> 有两种请求，简单请求和非简单请求。</p> <p><strong>简单请求：</strong></p> <ul><li>请求方法是 <code>HEAD</code>、<code>GET</code> 、<code>POST</code> 三种方法之一</li> <li>HTTP 请求头的信息不超出以下几种字段：
<ul><li>Accept</li> <li>Accept-Language</li> <li>Content-Language</li> <li>Last-Event-ID</li> <li>Content-Type：只限于 application/x-www-form-urlencoded、multipart/form-data、text/plain</li></ul></li></ul> <p><strong>复杂请求：</strong></p> <p>如果前端要带 <code>cookie</code>, 前端也需要单独设置</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 前端设置是否带cookie</span>
xhr<span class="token punctuation">.</span>withCredentials <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token operator">...</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_3-nodejs-中间件代理跨域"><a href="#_3-nodejs-中间件代理跨域" class="header-anchor">#</a> 3. Nodejs 中间件代理跨域</h4> <p>通过起一个代理服务器， 实现数据的转发，也可以通过设置 <code>cookieDomainRewrite</code> 参数修改响应头 <code>cookie</code> 中域名,实现当前域下 <code>cookie</code> 的写入</p> <p>在 vue 框架下实现跨域</p> <p>利用 <code>node + webpack + webpack-dev-server</code> 代理接口跨域。在开发环境下，由于 <code>vue</code> 渲染服务和接口代理服务都是 <code>webpack-dev-server</code> 同一个，所以页面与代理接口之间不再跨域，无须设置 <code>headers</code> 跨域信息了。后台可以不做任何处理。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
      historyApiFallback<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      proxy<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        context<span class="token operator">:</span> <span class="token string">'/login'</span><span class="token punctuation">,</span>
        target<span class="token operator">:</span> <span class="token string">'http://xxx.com:8080'</span><span class="token punctuation">,</span>  <span class="token comment">// 代理跨域目标接口</span>
        changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        secure<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token comment">// 当代理某些https服务报错时用</span>
        cookieDomainRewrite<span class="token operator">:</span> <span class="token string">'xxx.com'</span>  <span class="token comment">// 可以为false，表示不修改</span>
      <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      noInfo<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h4 id="_4-nginx-反向代理中设置"><a href="#_4-nginx-反向代理中设置" class="header-anchor">#</a> 4. Nginx 反向代理中设置</h4> <p>和使用 <code>node</code> 中间件跨域原理相似。前端和后端都不需要写额外的代码来处理， 只需要配置一下 <code>Nginx</code></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>server <span class="token punctuation">{</span>
  listen <span class="token number">80</span><span class="token punctuation">;</span>
  server_name aa.com<span class="token punctuation">;</span>
  location ^~ /api <span class="token punctuation">{</span>
    proxy_pass http://xxx.com<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_6-script-标签中-defer-和-async-的区别"><a href="#_6-script-标签中-defer-和-async-的区别" class="header-anchor">#</a> 6 script 标签中 defer 和 async 的区别</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>script.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>没有 <code>defer</code> 或 <code>async</code>，浏览器会立即加载并执行指定的脚本，&quot;立即&quot;指的是在渲染该 <code>script</code> 标签之下的文档元素之前，也就是说不等待后续载入的文档元素，读到就加载并执行。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">async</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>script.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>有 <code>async</code>，加载和渲染后续文档元素的过程将和 <code>script.js</code> 的加载与执行并行进行（异步）。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">defer</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myscript.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>有 <code>defer</code>，加载后续文档元素的过程将和 <code>script.js</code> 的加载并行进行（异步），但是 <code>script.js</code> 的执行要在所有元素解析完成之后，<code>DOMContentLoaded</code> 事件触发之前完成。</p> <p><img src="https://cdn.jsdelivr.net/gh/realwds/cdn@master/blog/script-defer-async.84113912.1idrxdvmec2o.jpg" alt=""></p> <blockquote><p>蓝色线代表网络读取，红色线代表执行时间，这俩都是针对脚本的；绿色线代表 HTML 解析。</p></blockquote> <h3 id="_7-数据类型转换"><a href="#_7-数据类型转换" class="header-anchor">#</a> 7 数据类型转换</h3> <p>JS 中在使用运算符号或者对比符时，会自带隐式转换，规则如下:</p> <p>转化规则</p> <ul><li><code>-</code> 、<code>*</code> 、<code>/</code> 、<code>%</code>：一律转换成数值后计算</li> <li><code>+</code>：
<ul><li>数字 + 字符串 = 字符串， 运算顺序是从左到右</li> <li>数字 + 对象， 优先调用对象的 <code>valueOf -&gt; toString</code></li> <li>数字 + <code>boolean/null</code> -&gt; 数字</li> <li>数字 + <code>undefined -&gt; NaN</code></li></ul></li> <li><code>[1].toString() === '1'</code></li> <li><code>{}.toString() === '[object object]'</code></li> <li><code>NaN !== NaN</code> 、<code>+undefined</code> 为 <code>NaN</code></li></ul> <p>在 JS 中类型转换只有三种情况，分别是：</p> <ul><li>转换为布尔值</li> <li>转换为数字</li> <li>转换为字符串</li></ul> <table><thead><tr><th>原始值</th> <th>转换目标</th> <th>结果</th></tr></thead> <tbody><tr><td>number</td> <td>布尔值</td> <td>除了 0、-0、NaN 都为 true</td></tr> <tr><td>string</td> <td>布尔值</td> <td>除了空字符串都为 true</td></tr> <tr><td>undefined、null</td> <td>布尔值</td> <td>false</td></tr> <tr><td>引用类型</td> <td>布尔值</td> <td>true</td></tr> <tr><td>number</td> <td>字符串</td> <td>5 =&gt; '5'</td></tr> <tr><td>Boolean、函数、Symbol</td> <td>字符串</td> <td>'true'</td></tr> <tr><td>数组</td> <td>字符串</td> <td>[1, 2] =&gt; '1, 2'</td></tr> <tr><td>对象</td> <td>字符串</td> <td>'[Object Object]'</td></tr> <tr><td>string</td> <td>数字</td> <td>'1' =&gt; 1, 'a' =&gt; NaN</td></tr> <tr><td>数组</td> <td>数字</td> <td>空数组为0，存在一个元素且为数字转为数字，其他情况NaN</td></tr> <tr><td>null</td> <td>数字</td> <td>0</td></tr> <tr><td>除了数组的引用类型</td> <td>数字</td> <td>NaN</td></tr> <tr><td>Symbol</td> <td>数字</td> <td>抛错</td></tr></tbody></table></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2021/06/11, 03:59:03</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/realwds-docs/daily/2021/05/19/" class="prev">
        2021年05月19日
      </a></span> <span class="next"><a href="/realwds-docs/daily/2021/05/17/">
        2021年05月17日
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/realwds-docs/assets/js/app.d46cebf3.js" defer></script><script src="/realwds-docs/assets/js/3.62acc876.js" defer></script><script src="/realwds-docs/assets/js/79.5e2533e6.js" defer></script><script src="/realwds-docs/assets/js/7.67d73f15.js" defer></script>
  </body>
</html>
